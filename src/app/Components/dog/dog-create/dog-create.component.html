<div id="card-container">
  <div id="container">
    <h1 class="text-color text-center">Enregistrer un chien</h1>
    <p-messages [(value)]="messages" [showTransitionOptions]="'500ms'" [hideTransitionOptions]="'500ms'" [enableService]="false"></p-messages>
    <form [formGroup]="dogForm" (ngSubmit)="create()" class="w-full flex flex-wrap row justify-content-between align-items-center">
      <div id="name-container">
        <span class="p-float-label w-5 mt-2">
        <input pInputText formControlName="firstName" id="firstname" class="w-full ng-invalid">
        <label for="firstname">Prénom</label>
        <ng-container *ngIf="dogForm.get('firstName')?.invalid && dogForm.get('firstName')?.touched">
        <small class="p-error">Champs requis</small>
      </ng-container>
      </span>

        <span class="p-float-label w-5 mt-2">
          <input pInputText formControlName="lastName" id="lastname" class="w-full ng-invalid">
          <label for="lastname">Nom</label>
      </span>
      </div>
      <div id="other">
        <span class="p-float-label mt-2">
          <p-calendar formControlName="dateOfBirth" id="dateOfBirth" class="ng-invalid" (onSelect)="onDateSelect($event)" dateFormat="dd/mm/yy"></p-calendar>
          <label for="dateOfBirth">Date de Naissance</label>
          <ng-container *ngIf="dogForm.get('dateOfBirth')?.invalid && dogForm.get('dateOfBirth')?.touched">
            <br><small class="p-error">Champs requis, La date ne peut être dans le futur</small>
          </ng-container>
        </span>
        <div id="sex">
          <p class="text-color-secondary mr-3">Sex: </p>
          <p-radioButton class="text-color-secondary mr-3" name="sex" value="Mâle" label="Mâle" formControlName="sex"></p-radioButton>
          <p-radioButton class="text-color-secondary mr-5" name="sex" value="Femelle" label="Femelle" formControlName="sex"></p-radioButton>
        </div>
        <div id="sterilized">
          <p class="text-color-secondary mr-2">Est stérilisé </p>
          <p-checkbox formControlName="isSterilized" [binary]="true"></p-checkbox>
        </div>
      </div>


      <div id="breed-button">
        <p-dropdown [options]="breeds" formControlName="breedId" optionLabel="name" optionValue="id" [filter]="true" filterBy="name" [showClear]="true" placeholder="Race" [disabled]="breedDisabled">
        <ng-template let-breed pTemplate="item">
          <div class="breed-item">
            <div>{{breed.name}}</div>
          </div>
        </ng-template>
      </p-dropdown>
        <button type="button" class="p-button-raised" (click)="showCreateBreed()" pButton icon="pi pi-plus" label="Ajouter une race"></button>
        <button type="button" class="p-button-raised" (click)="showMorphology()" pButton icon="pi pi-plus" label="Examen morphologique"></button>
      </div>

      <button id="submit" pButton icon="pi pi-save" type="submit" label="Enregistrer" [disabled]="!dogForm.valid"></button>
    </form>
  </div>
</div>
